<% cache(cache_key(@recipe, "show")) do %>
  <div itemscope itemtype="http://schema.org/Recipe" class="recipe">
    <div class="recipe__header">
      <div class="header-content" href="<%= @recipe.url %>">
        <%= header_image(@recipe) %>
        <h1 class="header-title" itemprop="name">
          <a href="<%= @recipe.url %>">
            <%= display_number_with_fallback(@recipe) %>
            <%= swash(@recipe.name) %>
          </a>
          <%= render 'shared/pseudonyms' if @recipe.try(:pseudonyms_as_markdown).present? %>
        </h1>
      </div>
    </div>
    <div class="recipe__content">
      <div class="recipe__recipe">
        <%= @recipe.recipe_as_html %>
      </div>
      <div class="recipe__decription" itemprop="description">
        <%= @recipe.description_to_html %>
      </div>
    </div>
    <%= render 'footer', :recipe => @recipe %>
  </div>
<% end %>
